import{_ as e,r as a,u as s,o as t,v as o,d as r,w as l,i,e as n,f as c,g as u,h as d,k as g,t as m,I as h,j as v,n as f,s as p,l as y,m as M,F as _,p as k,M as w,z as b,A as E,B as R}from"./index-BYz-dWzL.js";import{_ as N}from"./back.BFYz81iB.js";import{_ as I}from"./VGAU.Ch6IAJzM.js";import{c as P}from"./contractService.ChR1Iy-b.js";import"./BEP20USDT.4l3CktaQ.js";import"./apiService.Bl7qyh6B.js";import"./VGAUPlatformRecharge.BXpF-dn-.js";const T=new class{constructor(){this.isMobile=this.detectMobileDevice(),this.deviceInfo=this.getDeviceInfo(),this.errorLogs=[],this.maxLogs=10}detectMobileDevice(){const e=navigator.userAgent||navigator.vendor||window.opera;return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e.toLowerCase())}getDeviceInfo(){return{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine,isMobile:this.isMobile,screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight}}async detectWalletEnvironment(){const e={hasEthereum:void 0!==window.ethereum,hasMetaMask:!1,isUnlocked:!1,isConnected:!1,currentAccount:null,chainId:null,networkName:null};try{if(e.hasEthereum){e.hasMetaMask=window.ethereum.isMetaMask||!1;try{const a=await window.ethereum.request({method:"eth_accounts"});e.isUnlocked=a.length>0,e.isConnected=a.length>0,e.currentAccount=a[0]||null}catch(a){console.log("æ£€æµ‹é’±åŒ…è§£é”çŠ¶æ€å¤±è´¥:",a.message)}try{const a=await window.ethereum.request({method:"eth_chainId"});e.chainId=parseInt(a,16),e.networkName=this.getNetworkName(e.chainId)}catch(a){console.log("æ£€æµ‹ç½‘ç»œçŠ¶æ€å¤±è´¥:",a.message)}}}catch(a){console.error("æ£€æµ‹é’±åŒ…çŽ¯å¢ƒå¤±è´¥:",a)}return e}getNetworkName(e){return{1:"Ethereum Mainnet",97:"BSC Testnet",137:"Polygon",80001:"Mumbai Testnet"}[e]||`Unknown Network (${e})`}analyzeMobileError(e,a={}){console.log("ðŸ” å¼€å§‹åˆ†æžç§»åŠ¨ç«¯é”™è¯¯...",{error:e.message,context:a,deviceInfo:this.deviceInfo});const s={isMobile:this.isMobile,deviceInfo:this.deviceInfo,errorType:"UNKNOWN",userMessage:"ç§»åŠ¨ç«¯è¿žæŽ¥å¤±è´¥",details:"",suggestions:[],technicalDetails:{originalError:e.message,errorStack:e.stack,context:a}};if(e.message){const a=e.message.toLowerCase();a.includes("mobile")||a.includes("android")||a.includes("ios")?(s.errorType="MOBILE_SPECIFIC",s.userMessage="ç§»åŠ¨ç«¯å…¼å®¹æ€§é—®é¢˜",s.details="æ£€æµ‹åˆ°ç§»åŠ¨ç«¯ç‰¹å®šçš„é”™è¯¯ï¼Œå¯èƒ½æ˜¯è®¾å¤‡å…¼å®¹æ€§é—®é¢˜",s.suggestions=["ç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„MetaMask","å°è¯•åœ¨æ¡Œé¢ç«¯æ“ä½œ","æ£€æŸ¥ç§»åŠ¨ç«¯ç½‘ç»œè®¾ç½®","æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å’ŒCookie","è”ç³»æŠ€æœ¯æ”¯æŒ"]):a.includes("network")||a.includes("fetch")||a.includes("timeout")?(s.errorType="NETWORK_ERROR",s.userMessage="ç½‘ç»œè¿žæŽ¥å¤±è´¥",s.details="ç§»åŠ¨ç«¯ç½‘ç»œè¿žæŽ¥ä¸ç¨³å®šï¼Œå¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜æˆ–VPNè®¾ç½®",s.suggestions=["æ£€æŸ¥ç§»åŠ¨ç½‘ç»œæˆ–WiFiè¿žæŽ¥","å°è¯•åˆ‡æ¢ç½‘ç»œï¼ˆ4G/5G/WiFiï¼‰","æ£€æŸ¥VPNè®¾ç½®","ç¨åŽé‡è¯•","è”ç³»ç½‘ç»œè¿è¥å•†"]):a.includes("wallet")||a.includes("metamask")||a.includes("provider")?(s.errorType="WALLET_ERROR",s.userMessage="é’±åŒ…è¿žæŽ¥å¤±è´¥",s.details="ç§»åŠ¨ç«¯MetaMaskè¿žæŽ¥é—®é¢˜ï¼Œå¯èƒ½æ˜¯é’±åŒ…çŠ¶æ€æˆ–æƒé™é—®é¢˜",s.suggestions=["ç¡®ä¿MetaMaskå·²å®‰è£…å¹¶è§£é”","æ£€æŸ¥é’±åŒ…æ˜¯å¦è¿žæŽ¥åˆ°æ­£ç¡®çš„ç½‘ç»œ","å°è¯•é‡æ–°è¿žæŽ¥é’±åŒ…","æ£€æŸ¥æµè§ˆå™¨æƒé™è®¾ç½®","åˆ·æ–°é¡µé¢åŽé‡è¯•"]):a.includes("user rejected")||a.includes("user denied")||a.includes("cancel")?(s.errorType="USER_REJECTED",s.userMessage="ç”¨æˆ·å–æ¶ˆäº†æ“ä½œ",s.details="æ‚¨åœ¨ç§»åŠ¨ç«¯MetaMaskä¸­å–æ¶ˆäº†æ“ä½œ",s.suggestions=["è¯·é‡æ–°ç‚¹å‡»ç¡®è®¤æŒ‰é’®","åœ¨MetaMaskä¸­ç¡®è®¤æ“ä½œè¯·æ±‚","æ£€æŸ¥MetaMaskå¼¹çª—æ˜¯å¦è¢«é˜»æ­¢","ç¡®ä¿MetaMaskåœ¨å‰å°è¿è¡Œ"]):(s.errorType="GENERAL_ERROR",s.userMessage="ç§»åŠ¨ç«¯æ“ä½œå¤±è´¥",s.details=`å‘ç”ŸæœªçŸ¥é”™è¯¯: ${e.message}`,s.suggestions=["åˆ·æ–°é¡µé¢åŽé‡è¯•","æ£€æŸ¥é’±åŒ…çŠ¶æ€","å°è¯•åœ¨æ¡Œé¢ç«¯æ“ä½œ","è”ç³»æŠ€æœ¯æ”¯æŒ"])}return this.logError(s),console.log("ðŸ“‹ ç§»åŠ¨ç«¯é”™è¯¯åˆ†æžå®Œæˆ:",s),s}logError(e){const a={timestamp:(new Date).toISOString(),analysis:e,deviceInfo:this.deviceInfo};this.errorLogs.push(a),this.errorLogs.length>this.maxLogs&&(this.errorLogs=this.errorLogs.slice(-this.maxLogs));try{localStorage.setItem("mobile_error_logs",JSON.stringify(this.errorLogs))}catch(s){console.error("ä¿å­˜ç§»åŠ¨ç«¯é”™è¯¯æ—¥å¿—å¤±è´¥:",s)}}getErrorLogs(){return this.errorLogs}clearErrorLogs(){this.errorLogs=[];try{localStorage.removeItem("mobile_error_logs")}catch(e){console.error("æ¸…é™¤ç§»åŠ¨ç«¯é”™è¯¯æ—¥å¿—å¤±è´¥:",e)}}generateErrorReport(){return{deviceInfo:this.deviceInfo,errorLogs:this.errorLogs,summary:{totalErrors:this.errorLogs.length,lastError:this.errorLogs[this.errorLogs.length-1],timestamp:(new Date).toISOString()}}}async checkCommonMobileIssues(){const e=[];try{const a=await this.detectWalletEnvironment();a.hasEthereum||e.push({type:"NO_ETHEREUM",severity:"high",message:"æœªæ£€æµ‹åˆ°ä»¥å¤ªåŠçŽ¯å¢ƒ",suggestion:"è¯·å®‰è£…MetaMaské’±åŒ…"}),a.hasMetaMask||e.push({type:"NO_METAMASK",severity:"high",message:"æœªæ£€æµ‹åˆ°MetaMask",suggestion:"è¯·å®‰è£…MetaMaské’±åŒ…"}),a.isUnlocked||e.push({type:"WALLET_LOCKED",severity:"medium",message:"é’±åŒ…å·²é”å®š",suggestion:"è¯·åœ¨MetaMaskä¸­è§£é”é’±åŒ…"}),a.chainId&&![97].includes(a.chainId)&&e.push({type:"WRONG_NETWORK",severity:"medium",message:`å½“å‰ç½‘ç»œä¸æ”¯æŒ: ${a.networkName}`,suggestion:"è¯·åˆ‡æ¢åˆ°BSCç½‘ç»œ"}),navigator.onLine||e.push({type:"OFFLINE",severity:"high",message:"è®¾å¤‡å¤„äºŽç¦»çº¿çŠ¶æ€",suggestion:"è¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥"})}catch(a){console.error("æ£€æŸ¥ç§»åŠ¨ç«¯å¸¸è§é—®é¢˜å¤±è´¥:",a)}return e}},C=e({__name:"VGAURecharge",setup(e){const C=a(""),$=a("0.000000"),A=a(!1),L=a(""),x=a(!1),O=a(""),D=a(!1),S=a(!1),U=a({message:"",details:"",suggestions:[],errorType:"",contractName:"",methodName:"",timestamp:""}),{t:G}=s();t((async()=>{try{console.log("ðŸ“± é¡µé¢åˆå§‹åŒ–å¼€å§‹..."),T.isMobile&&(console.log("ðŸ“± æ£€æµ‹åˆ°ç§»åŠ¨ç«¯è®¾å¤‡"),await V()),await W(),await B(),console.log("âœ… é¡µé¢åˆå§‹åŒ–å®Œæˆ")}catch(e){console.error("âŒ é¡µé¢åˆå§‹åŒ–å¤±è´¥:",e)}}));const V=async()=>{try{console.log("ðŸ” å¼€å§‹æ£€æŸ¥ç§»åŠ¨ç«¯çŽ¯å¢ƒ...");const e=await T.checkCommonMobileIssues();e.length>0?(console.log("âš ï¸ å‘çŽ°ç§»åŠ¨ç«¯é—®é¢˜:",e),e.forEach((e=>{"high"===e.severity&&o({title:e.message,icon:"none",duration:4e3})}))):console.log("âœ… ç§»åŠ¨ç«¯çŽ¯å¢ƒæ£€æŸ¥é€šè¿‡");const a=await T.detectWalletEnvironment();console.log("ðŸ“± ç§»åŠ¨ç«¯é’±åŒ…çŽ¯å¢ƒ:",a)}catch(e){console.error("âŒ ç§»åŠ¨ç«¯çŽ¯å¢ƒæ£€æŸ¥å¤±è´¥:",e)}},W=async()=>{try{A.value=!0,await P.init(),console.log("âœ… åˆçº¦æœåŠ¡åˆå§‹åŒ–æˆåŠŸ")}catch(e){console.error("âŒ åˆçº¦æœåŠ¡åˆå§‹åŒ–å¤±è´¥:",e),o({title:G("rechargePage.contractInitFailed"),icon:"none",duration:3e3})}finally{A.value=!1}},B=async()=>{try{console.log("ðŸ”„ å¼€å§‹åŠ è½½ç”¨æˆ·æ•°æ®..."),console.log("ðŸ“Š æ­£åœ¨èŽ·å–VGAUä½™é¢...");const e=await P.getVGAUBalance();console.log("ðŸ’° VGAUä½™é¢èŽ·å–æˆåŠŸ:",e),$.value=e.raw,console.log("ðŸ’³ è®¾ç½®VGAUä½™é¢æ˜¾ç¤º:",$.value),console.log("ðŸŒ æ­£åœ¨èŽ·å–ç½‘ç»œä¿¡æ¯...");const a=await P.getNetworkInfo();L.value=a.currentAccount,console.log("ðŸ”— ç½‘ç»œä¿¡æ¯èŽ·å–æˆåŠŸ:",a),console.log("âœ… ç”¨æˆ·æ•°æ®åŠ è½½æˆåŠŸ"),console.log("ðŸ“± å½“å‰VGAUä½™é¢:",$.value),console.log("ðŸ‘› é’±åŒ…åœ°å€:",L.value)}catch(e){console.error("âŒ ç”¨æˆ·æ•°æ®åŠ è½½å¤±è´¥:",e),o({title:`ä½™é¢åŠ è½½å¤±è´¥: ${e.message}`,icon:"none",duration:3e3}),$.value="0.00"}},F=()=>{w()},j=e=>{C.value=e.detail.value},H=async()=>{if(!C.value||parseFloat(C.value)<=0)return void o({title:G("rechargePage.pleaseEnterValidAmount"),icon:"none",duration:2e3});const e=parseFloat(C.value);try{A.value=!0,O.value=e.toString(),x.value=!0}catch(a){console.error("å……å€¼æ“ä½œå¤±è´¥:",a),o({title:G("rechargePage.rechargeFailed"),icon:"none",duration:3e3})}finally{A.value=!1}},K=async e=>{try{A.value=!0,b({title:G("recharge.loading"),mask:!0});const a=await P.completeVGAURecharge(e);E(),a&&a.transactionHash&&(o({title:G("rechargePage.rechargeSuccess"),icon:"success",duration:3e3}),await B(),C.value="",w())}catch(a){E(),console.error("âŒ å……å€¼æ‰§è¡Œå¤±è´¥:",a),a.message&&a.message.includes("RPC endpoint returned HTTP client error")?J(a):q(a)}finally{A.value=!1}},z=async()=>{const e=O.value;x.value=!1,await K(e)},J=e=>{console.log("ðŸ” æ˜¾ç¤ºRPCé”™è¯¯æ¨¡æ€æ¡†:",e);const a={message:"åŒºå—é“¾ç½‘ç»œè¿žæŽ¥å¤±è´¥",details:"RPCèŠ‚ç‚¹æš‚æ—¶ä¸å¯ç”¨ï¼Œå¯èƒ½æ˜¯ç½‘ç»œæ‹¥å µæˆ–èŠ‚ç‚¹ç»´æŠ¤",suggestions:["æ£€æŸ¥ç½‘ç»œè¿žæŽ¥æ˜¯å¦æ­£å¸¸","å°è¯•åˆ‡æ¢ç½‘ç»œï¼ˆ4G/5G/WiFiï¼‰","æ£€æŸ¥VPNè®¾ç½®","ç¨åŽé‡è¯•ï¼ˆå¯èƒ½æ˜¯ç½‘ç»œæ‹¥å µï¼‰","å°è¯•ä½¿ç”¨å…¶ä»–RPCèŠ‚ç‚¹"],errorType:"RPC_ERROR",contractName:e.contractName||"æœªçŸ¥",methodName:e.methodName||"æœªçŸ¥",timestamp:(new Date).toISOString()};U.value=a,D.value=!0,S.value=!1},q=async e=>{console.log("ðŸ” æ˜¾ç¤ºå……å€¼é”™è¯¯æ¨¡æ€æ¡†:",e);const a=await Z(e);let s={message:a.userMessage,details:a.details,suggestions:a.suggestions,errorType:a.errorType,contractName:a.contractName,methodName:a.methodName,timestamp:a.timestamp,technicalDetails:a.technicalDetails};U.value=s,D.value=!0,S.value=!1},Z=async e=>{console.log("ðŸ” å¼€å§‹è¯¦ç»†åˆ†æžå……å€¼é”™è¯¯...",e);const a={userMessage:"å……å€¼å¤±è´¥",details:"",suggestions:[],errorType:"UNKNOWN",contractName:e.contractName||"æœªçŸ¥",methodName:e.methodName||"æœªçŸ¥",timestamp:(new Date).toISOString(),technicalDetails:{}};if(e.message){const s=e.message.toLowerCase();s.includes("rpc")||s.includes("http client error")||s.includes("-32080")?(a.errorType="RPC_ERROR",a.userMessage="åŒºå—é“¾ç½‘ç»œè¿žæŽ¥å¤±è´¥",a.details="RPCèŠ‚ç‚¹æš‚æ—¶ä¸å¯ç”¨ï¼Œå¯èƒ½æ˜¯ç½‘ç»œæ‹¥å µæˆ–èŠ‚ç‚¹ç»´æŠ¤",a.suggestions=["æ£€æŸ¥ç½‘ç»œè¿žæŽ¥æ˜¯å¦æ­£å¸¸","å°è¯•åˆ‡æ¢ç½‘ç»œï¼ˆ4G/5G/WiFiï¼‰","æ£€æŸ¥VPNè®¾ç½®","ç¨åŽé‡è¯•ï¼ˆå¯èƒ½æ˜¯ç½‘ç»œæ‹¥å µï¼‰","å°è¯•ä½¿ç”¨å…¶ä»–RPCèŠ‚ç‚¹"]):s.includes("gas")||s.includes("insufficient funds")||s.includes("out of gas")?(a.errorType="GAS_ERROR",a.userMessage="Gasè´¹ç”¨ä¸è¶³æˆ–ä½™é¢ä¸è¶³",a.details="è´¦æˆ·BNBä½™é¢ä¸è¶³ä»¥æ”¯ä»˜äº¤æ˜“æ‰‹ç»­è´¹",a.suggestions=["æ£€æŸ¥è´¦æˆ·BNBä½™é¢æ˜¯å¦å……è¶³","å°è¯•å‡å°‘å……å€¼é‡‘é¢","æ£€æŸ¥Gasè´¹ç”¨è®¾ç½®","ç¡®ä¿æœ‰è¶³å¤Ÿçš„BNBæ”¯ä»˜æ‰‹ç»­è´¹"]):s.includes("approve")||s.includes("allowance")||s.includes("permission")?(a.errorType="AUTHORIZATION_ERROR",a.userMessage="æŽˆæƒå¤±è´¥",a.details="VGAUä»£å¸æŽˆæƒæ“ä½œå¤±è´¥ï¼Œå¯èƒ½æ˜¯æƒé™ä¸è¶³æˆ–åˆçº¦é—®é¢˜",a.suggestions=["æ£€æŸ¥é’±åŒ…æ˜¯å¦å·²è¿žæŽ¥","ç¡®è®¤æŽˆæƒæ“ä½œ","å°è¯•é‡æ–°æŽˆæƒ","æ£€æŸ¥åˆçº¦çŠ¶æ€"]):s.includes("contract")||s.includes("method")||s.includes("abi")||s.includes("execution reverted")?(a.errorType="CONTRACT_ERROR",a.userMessage="åˆçº¦è°ƒç”¨å¤±è´¥",a.details="æ™ºèƒ½åˆçº¦æ‰§è¡Œå¤±è´¥ï¼Œå¯èƒ½æ˜¯åˆçº¦é—®é¢˜æˆ–å‚æ•°é”™è¯¯",a.suggestions=["æ£€æŸ¥åˆçº¦åœ°å€æ˜¯å¦æ­£ç¡®","éªŒè¯åˆçº¦æ–¹æ³•æ˜¯å¦å­˜åœ¨","æ£€æŸ¥å‚æ•°æ ¼å¼æ˜¯å¦æ­£ç¡®","è”ç³»æŠ€æœ¯æ”¯æŒ"]):s.includes("network")||s.includes("fetch")||s.includes("timeout")||s.includes("connection")?(a.errorType="NETWORK_ERROR",a.userMessage="ç½‘ç»œè¿žæŽ¥å¤±è´¥",a.details="æ— æ³•è¿žæŽ¥åˆ°åŒºå—é“¾ç½‘ç»œï¼Œå¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜æˆ–æœåŠ¡å™¨æš‚æ—¶ä¸å¯ç”¨",a.suggestions=["æ£€æŸ¥ç½‘ç»œè¿žæŽ¥æ˜¯å¦æ­£å¸¸","æ£€æŸ¥VPNè®¾ç½®","å°è¯•åˆ‡æ¢ç½‘ç»œ","ç¨åŽé‡è¯•"]):s.includes("wallet")||s.includes("metamask")||s.includes("provider")||s.includes("ethereum")?(a.errorType="WALLET_ERROR",a.userMessage="é’±åŒ…è¿žæŽ¥é—®é¢˜",a.details="MetaMaské’±åŒ…è¿žæŽ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥é’±åŒ…çŠ¶æ€",a.suggestions=["ç¡®ä¿MetaMaskå·²å®‰è£…å¹¶è§£é”","æ£€æŸ¥é’±åŒ…æ˜¯å¦è¿žæŽ¥åˆ°æ­£ç¡®çš„ç½‘ç»œ","å°è¯•é‡æ–°è¿žæŽ¥é’±åŒ…","åˆ·æ–°é¡µé¢åŽé‡è¯•"]):s.includes("user rejected")||s.includes("user denied")||s.includes("cancel")||s.includes("rejected")?(a.errorType="USER_REJECTED",a.userMessage="æ‚¨å–æ¶ˆäº†æ“ä½œ",a.details="åœ¨MetaMaskä¸­å–æ¶ˆäº†äº¤æ˜“è¯·æ±‚",a.suggestions=["è¯·é‡æ–°ç‚¹å‡»ç¡®è®¤æŒ‰é’®","åœ¨MetaMaskä¸­ç¡®è®¤äº¤æ˜“è¯·æ±‚","æ£€æŸ¥MetaMaskå¼¹çª—æ˜¯å¦è¢«é˜»æ­¢"]):(a.errorType="UNKNOWN_ERROR",a.userMessage=`å……å€¼å¤±è´¥: ${e.message}`,a.details="å‘ç”ŸæœªçŸ¥é”™è¯¯ï¼Œéœ€è¦è¿›ä¸€æ­¥åˆ†æž",a.suggestions=["åˆ·æ–°é¡µé¢åŽé‡è¯•","æ£€æŸ¥é’±åŒ…çŠ¶æ€","è”ç³»æŠ€æœ¯æ”¯æŒ","æŸ¥çœ‹æŽ§åˆ¶å°é”™è¯¯æ—¥å¿—"])}if(a.technicalDetails={originalError:e.message,errorStack:e.stack,errorType:e.errorType,contractName:e.contractName,methodName:e.methodName,timestamp:e.timestamp,deviceInfo:{userAgent:navigator.userAgent,platform:navigator.platform,isMobile:T.isMobile,onLine:navigator.onLine},operationContext:{operation:"recharge",amount:O.value,walletAddress:L.value,currentTime:(new Date).toISOString()}},T.isMobile){console.log("ðŸ“± æ·»åŠ ç§»åŠ¨ç«¯ç‰¹å®šåˆ†æž...");const s=T.analyzeMobileError(e,{operation:"recharge",amount:O.value,timestamp:(new Date).toISOString()});a.details=s.details||a.details,a.suggestions=[...a.suggestions,...s.suggestions]}return console.log("ðŸ“‹ å……å€¼é”™è¯¯è¯¦ç»†åˆ†æžå®Œæˆ:",a),a},Q=async()=>{try{D.value=!1,"RPC_ERROR"===U.value.errorType?(o({title:"æ­£åœ¨é‡è¯•ï¼Œè¯·ç¨å€™...",icon:"loading",duration:2e3}),await new Promise((e=>setTimeout(e,3e3)))):await new Promise((e=>setTimeout(e,500))),O.value&&await K(O.value)}catch(e){console.error("âŒ é‡è¯•å……å€¼å¤±è´¥:",e),e.message&&e.message.includes("RPC endpoint returned HTTP client error")?J(e):q(e)}},X=()=>{S.value=!S.value},Y=async()=>{try{console.log("ðŸ” å¼€å§‹è¿è¡Œé—®é¢˜è¯Šæ–­..."),b({title:"æ­£åœ¨è¯Šæ–­...",mask:!0});const e=await ee();E(),ae(e)}catch(e){E(),console.error("âŒ è¯Šæ–­å¤±è´¥:",e),o({title:"è¯Šæ–­å¤±è´¥",icon:"none",duration:2e3})}},ee=async()=>{const e={timestamp:(new Date).toISOString(),checks:[]};try{const a=await P.checkNetwork();e.checks.push({name:"ç½‘ç»œçŠ¶æ€",status:a.isSupported?"âœ… æ­£å¸¸":"âŒ å¼‚å¸¸",details:`é“¾ID: ${a.chainId}, æ”¯æŒ: ${a.isSupported}`,severity:a.isSupported?"low":"high"})}catch(a){e.checks.push({name:"ç½‘ç»œçŠ¶æ€",status:"âŒ æ£€æŸ¥å¤±è´¥",details:a.message,severity:"high"})}try{L.value?e.checks.push({name:"é’±åŒ…è¿žæŽ¥",status:"âœ… å·²è¿žæŽ¥",details:`åœ°å€: ${L.value}`,severity:"low"}):e.checks.push({name:"é’±åŒ…è¿žæŽ¥",status:"âŒ æœªè¿žæŽ¥",details:"é’±åŒ…æœªè¿žæŽ¥æˆ–è¿žæŽ¥å¤±è´¥",severity:"high"})}catch(a){e.checks.push({name:"é’±åŒ…è¿žæŽ¥",status:"âŒ æ£€æŸ¥å¤±è´¥",details:a.message,severity:"high"})}try{const a=P.isInitialized;e.checks.push({name:"åˆçº¦æœåŠ¡",status:a?"âœ… å·²åˆå§‹åŒ–":"âŒ æœªåˆå§‹åŒ–",details:`åˆå§‹åŒ–çŠ¶æ€: ${a}`,severity:a?"low":"medium"})}catch(a){e.checks.push({name:"åˆçº¦æœåŠ¡",status:"âŒ æ£€æŸ¥å¤±è´¥",details:a.message,severity:"medium"})}try{const a=navigator.onLine,s=T.isMobile;e.checks.push({name:"è®¾å¤‡çŽ¯å¢ƒ",status:"âœ… æ­£å¸¸",details:`åœ¨çº¿: ${a}, è®¾å¤‡: ${s?"ç§»åŠ¨ç«¯":"æ¡Œé¢ç«¯"}`,severity:"low"})}catch(a){e.checks.push({name:"è®¾å¤‡çŽ¯å¢ƒ",status:"âŒ æ£€æŸ¥å¤±è´¥",details:a.message,severity:"medium"})}try{$.value&&"0.000000"!==$.value?e.checks.push({name:"VGAUä½™é¢",status:"âœ… æ­£å¸¸",details:`ä½™é¢: ${$.value}`,severity:"low"}):e.checks.push({name:"VGAUä½™é¢",status:"âš ï¸ ä½™é¢ä¸º0",details:"å½“å‰VGAUä½™é¢ä¸º0",severity:"medium"})}catch(a){e.checks.push({name:"VGAUä½™é¢",status:"âŒ æ£€æŸ¥å¤±è´¥",details:a.message,severity:"medium"})}return console.log("ðŸ“‹ è¯Šæ–­æ£€æŸ¥å®Œæˆ:",e),e},ae=e=>{const a=e.checks,s=a.filter((e=>"high"===e.severity)),t=a.filter((e=>"medium"===e.severity));let o="è¯Šæ–­å®Œæˆï¼\n\n";s.length>0&&(o+="ðŸ”´ ä¸¥é‡é—®é¢˜:\n",s.forEach((e=>{o+=`â€¢ ${e.name}: ${e.details}\n`})),o+="\n"),t.length>0&&(o+="ðŸŸ¡ éœ€è¦æ³¨æ„:\n",t.forEach((e=>{o+=`â€¢ ${e.name}: ${e.details}\n`})),o+="\n"),0===s.length&&0===t.length&&(o+="âœ… æ‰€æœ‰æ£€æŸ¥é¡¹éƒ½æ­£å¸¸ï¼"),R({title:"é—®é¢˜è¯Šæ–­ç»“æžœ",content:o,showCancel:!1,confirmText:"ç¡®å®š"})};return(e,a)=>{const s=d,t=i,o=h,w=v;return n(),r(t,{class:"content"},{default:l((()=>[c(t,{class:"header"},{default:l((()=>[c(t,{class:"header-content"},{default:l((()=>[c(t,{class:"back-btn",onClick:F},{default:l((()=>[c(s,{class:"back-icon",src:N,mode:"aspectFit"})])),_:1}),c(t,{class:"title-container"},{default:l((()=>[c(t,{class:"vgau-icon"},{default:l((()=>[c(s,{class:"vgau-logo",src:I,mode:"aspectFit"})])),_:1}),c(t,{class:"title"},{default:l((()=>[g(m(e.$t("rechargePage.vgauRecharge")),1)])),_:1})])),_:1})])),_:1})])),_:1}),c(t,{class:"main-content"},{default:l((()=>[c(t,{class:"content-area"},{default:l((()=>[c(t,{class:"amount-section"},{default:l((()=>[c(t,{class:"section-title"},{default:l((()=>[g(m(e.$t("rechargePage.amount")),1)])),_:1}),c(t,{class:"input-container"},{default:l((()=>[c(t,{class:"input-field"},{default:l((()=>[c(o,{class:"amount-input",type:"number",placeholder:e.$t("rechargePage.minimumAmount"),modelValue:C.value,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value=e),onInput:j},null,8,["placeholder","modelValue"]),c(t,{class:"currency-label"},{default:l((()=>[g("VGAU |"+m(e.$t("rechargePage.max")),1)])),_:1})])),_:1}),c(t,{class:"divider"}),c(t,{class:"redeemable-info"},{default:l((()=>[c(w,{class:"redeemable-label"},{default:l((()=>[g(m(e.$t("rechargePage.availableBalance")),1)])),_:1}),c(w,{class:"redeemable-amount"},{default:l((()=>[g(m($.value)+" vgau",1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),c(t,{class:"confirm-section"},{default:l((()=>[c(t,{class:f(["confirm-btn",{disabled:A.value}]),onClick:H},{default:l((()=>[c(w,{class:"confirm-text"},{default:l((()=>[g(m(A.value?e.$t("rechargePage.processing"):e.$t("rechargePage.confirmOperation")),1)])),_:1})])),_:1},8,["class"])])),_:1}),x.value?(n(),r(t,{key:0,class:"modal-overlay",onClick:a[3]||(a[3]=e=>x.value=!1)},{default:l((()=>[c(t,{class:"modal-content",onClick:a[2]||(a[2]=p((()=>{}),["stop"]))},{default:l((()=>[c(t,{class:"modal-text"},{default:l((()=>[c(w,{class:"recharge-title"},{default:l((()=>[g(m(y(G)("recharge.modal.title")),1)])),_:1}),c(w,{class:"recharge-desc"},{default:l((()=>[g(m(y(G)("recharge.modal.content",{amount:O.value,symbol:"VGAU"})),1)])),_:1})])),_:1}),c(t,{class:"modal-actions"},{default:l((()=>[c(t,{class:"modal-btn outline",onClick:a[1]||(a[1]=e=>x.value=!1)},{default:l((()=>[g(m(y(G)("recharge.modal.cancel")),1)])),_:1}),c(t,{class:f(["modal-btn solid",{disabled:A.value}]),onClick:z},{default:l((()=>[g(m(y(G)("recharge.modal.confirm")),1)])),_:1},8,["class"])])),_:1})])),_:1})])),_:1})):u("",!0)])),_:1}),D.value?(n(),r(t,{key:0,class:"error-modal",onClick:a[7]||(a[7]=e=>D.value=!1)},{default:l((()=>[c(t,{class:"error-modal-content",onClick:a[6]||(a[6]=p((()=>{}),["stop"]))},{default:l((()=>[c(t,{class:"error-header"},{default:l((()=>[c(w,{class:"error-title"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.title")),1)])),_:1}),c(t,{class:"close-btn",onClick:a[4]||(a[4]=e=>D.value=!1)},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.close")),1)])),_:1})])),_:1}),c(t,{class:"error-details"},{default:l((()=>[c(w,{class:"error-message"},{default:l((()=>[g(m(U.value.message),1)])),_:1}),U.value.details?(n(),r(w,{key:0,class:"error-description"},{default:l((()=>[g(m(U.value.details),1)])),_:1})):u("",!0)])),_:1}),U.value.suggestions&&U.value.suggestions.length>0?(n(),r(t,{key:0,class:"error-suggestions"},{default:l((()=>[c(w,{class:"suggestions-title"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.suggestions")),1)])),_:1}),(n(!0),M(_,null,k(U.value.suggestions,((e,a)=>(n(),r(t,{class:"suggestion-item",key:a},{default:l((()=>[c(w,{class:"suggestion-text"},{default:l((()=>[g(m(a+1)+". "+m(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):u("",!0),S.value?(n(),r(t,{key:1,class:"debug-info"},{default:l((()=>{var a,s,t,o,i;return[c(w,{class:"debug-title"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.debugInfo")),1)])),_:1}),c(w,{class:"debug-text"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.errorType"))+": "+m(U.value.errorType||"æœªçŸ¥"),1)])),_:1}),c(w,{class:"debug-text"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.contract"))+": "+m(U.value.contractName||"æœªçŸ¥"),1)])),_:1}),c(w,{class:"debug-text"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.method"))+": "+m(U.value.methodName||"æœªçŸ¥"),1)])),_:1}),c(w,{class:"debug-text"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.timestamp"))+": "+m(U.value.timestamp||"æœªçŸ¥"),1)])),_:1}),U.value.technicalDetails?(n(),r(w,{key:0,class:"debug-text"},{default:l((()=>[g("åŽŸå§‹é”™è¯¯: "+m(U.value.technicalDetails.originalError||"æœªçŸ¥"),1)])),_:1})):u("",!0),(null==(a=U.value.technicalDetails)?void 0:a.operationContext)?(n(),r(w,{key:1,class:"debug-text"},{default:l((()=>[g("æ“ä½œé‡‘é¢: "+m(U.value.technicalDetails.operationContext.amount||"æœªçŸ¥"),1)])),_:1})):u("",!0),(null==(s=U.value.technicalDetails)?void 0:s.operationContext)?(n(),r(w,{key:2,class:"debug-text"},{default:l((()=>[g("é’±åŒ…åœ°å€: "+m(U.value.technicalDetails.operationContext.walletAddress||"æœªçŸ¥"),1)])),_:1})):u("",!0),(null==(t=U.value.technicalDetails)?void 0:t.deviceInfo)?(n(),r(w,{key:3,class:"debug-text"},{default:l((()=>[g("è®¾å¤‡ç±»åž‹: "+m(U.value.technicalDetails.deviceInfo.isMobile?"ç§»åŠ¨ç«¯":"æ¡Œé¢ç«¯"),1)])),_:1})):u("",!0),(null==(o=U.value.technicalDetails)?void 0:o.deviceInfo)?(n(),r(w,{key:4,class:"debug-text"},{default:l((()=>[g("ç½‘ç»œçŠ¶æ€: "+m(U.value.technicalDetails.deviceInfo.onLine?"åœ¨çº¿":"ç¦»çº¿"),1)])),_:1})):u("",!0),(null==(i=U.value.technicalDetails)?void 0:i.deviceInfo)?(n(),r(w,{key:5,class:"debug-text"},{default:l((()=>[g("å¹³å°: "+m(U.value.technicalDetails.deviceInfo.platform||"æœªçŸ¥"),1)])),_:1})):u("",!0),y(T).isMobile?(n(),r(w,{key:6,class:"debug-text"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.deviceType"))+": "+m(e.$t("rechargePage.errorModal.mobile")),1)])),_:1})):u("",!0),y(T).isMobile?(n(),r(w,{key:7,class:"debug-text"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.platform"))+": "+m(y(T).deviceInfo.platform),1)])),_:1})):u("",!0),y(T).isMobile?(n(),r(w,{key:8,class:"debug-text"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.onlineStatus"))+": "+m(y(T).deviceInfo.onLine?e.$t("rechargePage.errorModal.online"):e.$t("rechargePage.errorModal.offline")),1)])),_:1})):u("",!0)]})),_:1})):u("",!0),c(t,{class:"error-actions"},{default:l((()=>[c(t,{class:"retry-btn",onClick:Q},{default:l((()=>[c(w,{class:"retry-text"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.retry")),1)])),_:1})])),_:1}),c(t,{class:"diagnose-btn",onClick:Y},{default:l((()=>[c(w,{class:"diagnose-text"},{default:l((()=>[g("ðŸ” è¯Šæ–­é—®é¢˜")])),_:1})])),_:1}),c(t,{class:"debug-btn",onClick:X},{default:l((()=>[c(w,{class:"debug-btn-text"},{default:l((()=>[g(m(S.value?e.$t("rechargePage.errorModal.hideDebug"):e.$t("rechargePage.errorModal.showDebug")),1)])),_:1})])),_:1}),c(t,{class:"close-error-btn",onClick:a[5]||(a[5]=e=>D.value=!1)},{default:l((()=>[c(w,{class:"close-error-text"},{default:l((()=>[g(m(e.$t("rechargePage.errorModal.closeError")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):u("",!0)])),_:1})}}},[["__scopeId","data-v-f86bf836"]]);export{C as default};
